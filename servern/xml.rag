%%{
	machine xml;
	write data;
}%%

bool XML_PARSER2::skip_comments(char c)
{
	if(c=='!') {
		%%{
			comment = '--'$2 any* :>> '-->';
			cdata = '[CDATA['$2 any* :>> ']]>';
			trash = ((any-'>')*)$1 '>';
			main := comment | cdata;
			write init;
			write exec;
		}%%
		return true;
	}
	return false;
}
